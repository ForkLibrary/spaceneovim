" -*- mode: vimrc -*-
"vim: ft=vim

" dotspacevim/auto-install {{{
" Automatic installation of spacevim.
let s:config_dir = $HOME . '/.config/nvim'
let s:autoload_spacevim = expand(resolve(s:config_dir . '/autoload/spacevim.vim'))

if empty(glob(s:autoload_spacevim))
  let s:install_spacevim = jobstart([
  \  'curl', '-fLo', s:autoload_spacevim, '--create-dirs',
  \  'https://raw.githubusercontent.com/tehnix/spaceneovim/master/autoload/spacevim.vim'
  \])
  let s:waiting_for_plug = jobwait([s:install_spacevim])
endif
" }}}

" dotspacevim/init {{{
" This code is called at the very startup of Spacevim initialization
" before layers configuration.
" You should not put any user code in there besides modifying the variable
" values."
" IMPORTANT: For the moment, any changes in plugins or layers needs
" a vim restart and :PlugInstall
  let g:dotspacevim_configuration_layers = [
  \  '+nav/buffers'
  \, '+nav/files'
  \, '+nav/quit'
  \, '+nav/windows'
  \, '+nav/start-screen'
  \, '+nav/text'
  \, '+checkers/syntax-checking'
  \, '+tools/terminal'
  \]

  let g:dotspacevim_additional_plugins = [
  \  {'name': 'flazz/vim-colorschemes', 'config': {}}
  \]

  " let g:dotspacevim_escape_key_sequence = 'fd'
" }}}

" dotspacevim/user-init {{{
" Initialization for user code.
" It is compute immediately after `dotspacemacs/init', before layer
" configuration executes.
" This function is mostly useful for variables that need to be set
" before plugins are loaded. If you are unsure, you should try in setting
" them in `dotspacevim/user-config' first."
  let g:mapleader = ' '
  let g:leaderGuide_vertical = 0
  " Shorten the time before the guide buffer appears
  set timeoutlen=100

  " Load external user-init if found
  if filereadable(s:config_dir . '/user-init.vim')
    execute 'source ' . s:config_dir . '/user-init.vim'
  endif
" }}}

call spacevim#bootstrap()

" dotspacevim/user-config {{{
" Configuration for user code.
" This is computed at the very end of Spacevim initialization after
" layers configuration.
" This is the place where most of your configurations should be done.
" Unless it is explicitly specified that
" a variable should be set before a plugin is loaded,
" you should place your code here."
  set background=dark
  colorscheme wombat256mod

  " Load external user-config if found
  if filereadable(s:config_dir . '/user-init.vim')
    execute 'source ' . s:config_dir . '/user-config.vim'
  endif
" }}}
